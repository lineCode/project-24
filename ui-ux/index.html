<html>
  <head>
    <script src="./js/unreal.js"></script>
    <script src="./js/jquery-3.6.1.min.js"></script>
    <script src="./js/jquery-bindings.js"></script>
    <link href="./css/main.css" rel="stylesheet" />
  </head>
  <div class="bg-blue-200 text-lg text-gray-800 font-semibold">
    <h4>Sup Nerd</h4>
    <p>
      <label>First Name:</label>
      <input type="text" data-bind="firstName" />
      <label>Last Name:</label>
      <input type="text" data-bind="lastName" />
      <br />
      Age:
      <input type="number" data-bind="age" />
      <code data-bind="text"></code>
    </p>
  </div>
  <footer>
    <script>
      const options = {
        method: "post",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          query: `query ExampleQuery {
                            allFilms {
                            totalCount
                            films {
                            director
                            episodeID
                            id
                            openingCrawl
                            }
                        }
                    }`,
        }),
      };

      var obj = {
        firstName: "Tiaan",
        lastName: "du Plessis",
        text: ""
      };

      var bindings = $.bindings(obj);

      // bindings variable can be updated directly and trigger DOM updates
      // DOM updates will trigger updates in the bindings variable

      bindings.firstName = "Dupie";

      // New properties can be added as long as the associated data-bind attribute exists
      bindings.age = 24;

      let data = fetch(
        ` https://swapi-graphql.netlify.app/.netlify/functions/index`,
        options
      )
        .then((res) => res.json())
        .then((data) => bindings.text = JSON.stringify(data, null, 2));


    </script>
  </footer>
</html>
